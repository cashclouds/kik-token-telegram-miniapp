<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>KIK Picture Tokens</title>

    <!-- Telegram Web App SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>

    <!-- Styles -->
    <link rel="stylesheet" href="css/app.css">

    <!-- i18n -->
    <script src="https://cdn.jsdelivr.net/npm/i18next@23.7.6/i18next.min.js"></script>
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading" class="loading-screen">
        <div class="loader"></div>
        <p data-i18n="loading">Loading...</p>
    </div>

    <!-- Main App -->
    <div id="app" class="app" style="display: none;">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1 class="logo">ğŸ¨ KIK</h1>
                <div class="user-info">
                    <span class="level">Lvl <span id="userLevel">1</span></span>
                    <span class="tokens">ğŸ’ <span id="tokenCount">0</span></span>
                </div>
            </div>
        </header>

        <!-- Navigation Tabs -->
        <nav class="tabs">
            <button class="tab active" data-tab="home" data-i18n="tab_home">Home</button>
            <button class="tab" data-tab="collection" data-i18n="tab_collection">Collection</button>
            <button class="tab" data-tab="invite" data-i18n="tab_invite">Invite</button>
            <button class="tab" data-tab="profile" data-i18n="tab_profile">Profile</button>
        </nav>

        <!-- Tab Content -->
        <main class="content">
            <!-- Home Tab -->
            <div id="homeTab" class="tab-content active">
                <!-- Daily Claim Card -->
                <div class="card daily-claim">
                    <div class="card-header">
                        <h2 data-i18n="daily_tokens">Daily Tokens</h2>
                        <span class="countdown" id="dailyCountdown">24:00:00</span>
                    </div>
                    <div class="card-body">
                        <p class="claim-status" id="claimStatus" data-i18n="claim_available">Claim 3 tokens available!</p>
                        <button class="btn btn-primary btn-large" id="claimBtn" data-i18n="claim_now">Claim Now</button>
                    </div>
                </div>

                <!-- Unattached Tokens Card -->
                <div class="card">
                    <div class="card-header">
                        <h2 data-i18n="unattached_tokens">Tokens Without Pictures</h2>
                        <span class="badge" id="unattachedCount">0</span>
                    </div>
                    <div class="card-body">
                        <p data-i18n="attach_reminder">Attach pictures to all tokens to get more tomorrow!</p>
                        <div class="btn-group">
                            <button class="btn btn-secondary" id="uploadPhotoBtn">
                                ğŸ“¸ <span data-i18n="upload_photo">Upload Photo</span>
                            </button>
                            <button class="btn btn-secondary" id="generateAIBtn">
                                ğŸ¤– <span data-i18n="generate_ai">Generate AI</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Stats Card -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ“Š</div>
                        <div class="stat-value" id="totalTokens">0</div>
                        <div class="stat-label" data-i18n="total_tokens">Total Tokens</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">âœ…</div>
                        <div class="stat-value" id="attachedTokens">0</div>
                        <div class="stat-label" data-i18n="with_pictures">With Pictures</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">â­</div>
                        <div class="stat-value" id="userXP">0</div>
                        <div class="stat-label" data-i18n="experience">Experience</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ‘¥</div>
                        <div class="stat-value" id="referralCount">0</div>
                        <div class="stat-label" data-i18n="referrals">Referrals</div>
                    </div>
                </div>
            </div>

            <!-- Collection Tab -->
            <div id="collectionTab" class="tab-content">
                <div class="filter-bar">
                    <button class="filter-btn active" data-filter="all" data-i18n="filter_all">All</button>
                    <button class="filter-btn" data-filter="private" data-i18n="filter_private">Private</button>
                    <button class="filter-btn" data-filter="public" data-i18n="filter_public">Public</button>
                </div>
                <div id="collectionGrid" class="collection-grid">
                    <!-- Pictures will be loaded here -->
                </div>
                <div id="emptyCollection" class="empty-state" style="display: none;">
                    <div class="empty-icon">ğŸ“­</div>
                    <p data-i18n="no_pictures">No pictures yet. Start attaching!</p>
                </div>
            </div>

            <!-- Invite Tab -->
            <div id="inviteTab" class="tab-content">
                <div class="card">
                    <div class="card-header">
                        <h2 data-i18n="invite_friends">Invite Friends</h2>
                    </div>
                    <div class="card-body">
                        <div class="referral-stats">
                            <div class="stat">
                                <span class="label" data-i18n="total_invited">Total Invited:</span>
                                <span class="value" id="totalInvited">0</span>
                            </div>
                            <div class="stat">
                                <span class="label" data-i18n="active_today">Active Today:</span>
                                <span class="value" id="activeToday">0</span>
                            </div>
                            <div class="stat">
                                <span class="label" data-i18n="earned_tokens">Tokens Earned:</span>
                                <span class="value" id="earnedTokens">0</span>
                            </div>
                        </div>

                        <div class="referral-link-box">
                            <input type="text" id="referralLink" readonly class="referral-input">
                            <button class="btn btn-primary" id="copyLinkBtn" data-i18n="copy_link">Copy Link</button>
                        </div>

                        <button class="btn btn-secondary btn-large" id="shareBtn" data-i18n="share_link">Share Link</button>

                        <div class="rewards-info">
                            <h3 data-i18n="referral_rewards">Referral Rewards</h3>
                            <ul>
                                <li data-i18n="reward_signup">+1 token when friend joins</li>
                                <li data-i18n="reward_daily">+1 token/day per active friend</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Profile Tab -->
            <div id="profileTab" class="tab-content">
                <div class="profile-header">
                    <div class="profile-avatar">
                        <div class="avatar-circle">
                            <span id="profileInitial">U</span>
                        </div>
                        <div class="level-badge">Lvl <span id="profileLevel">1</span></div>
                    </div>
                    <h2 id="profileUsername">Username</h2>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h2 data-i18n="settings">Settings</h2>
                    </div>
                    <div class="card-body">
                        <div class="setting-item">
                            <label data-i18n="language">Language</label>
                            <select id="languageSelect" class="select-input">
                                <option value="en">ğŸ‡¬ğŸ‡§ English</option>
                                <option value="ru">ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
                                <option value="es">ğŸ‡ªğŸ‡¸ EspaÃ±ol</option>
                                <option value="fr">ğŸ‡«ğŸ‡· FranÃ§ais</option>
                                <option value="de">ğŸ‡©ğŸ‡ª Deutsch</option>
                                <option value="it">ğŸ‡®ğŸ‡¹ Italiano</option>
                                <option value="pl">ğŸ‡µğŸ‡± Polski</option>
                                <option value="uk">ğŸ‡ºğŸ‡¦ Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°</option>
                                <option value="tr">ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e</option>
                                <option value="nl">ğŸ‡³ğŸ‡± Nederlands</option>
                                <option value="sv">ğŸ‡¸ğŸ‡ª Svenska</option>
                                <option value="cs">ğŸ‡¨ğŸ‡¿ ÄŒeÅ¡tina</option>
                                <option value="ro">ğŸ‡·ğŸ‡´ RomÃ¢nÄƒ</option>
                                <option value="el">ğŸ‡¬ğŸ‡· Î•Î»Î»Î·Î½Î¹ÎºÎ¬</option>
                                <option value="hu">ğŸ‡­ğŸ‡º Magyar</option>
                                <option value="pt">ğŸ‡µğŸ‡¹ PortuguÃªs</option>
                                <option value="zh">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</option>
                                <option value="hi">ğŸ‡®ğŸ‡³ à¤¹à¤¿à¤¨à¥à¤¦à¥€</option>
                                <option value="ar">ğŸ‡¦ğŸ‡ª Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
                                <option value="bn">ğŸ‡§ğŸ‡© à¦¬à¦¾à¦‚à¦²à¦¾</option>
                                <option value="id">ğŸ‡®ğŸ‡© Bahasa Indonesia</option>
                                <option value="ja">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h2 data-i18n="progress">Progress</h2>
                    </div>
                    <div class="card-body">
                        <div class="progress-item">
                            <div class="progress-label">
                                <span data-i18n="level">Level</span>
                                <span id="currentLevel">1</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="xpProgress" style="width: 0%"></div>
                            </div>
                            <div class="progress-text">
                                <span id="currentXP">0</span> / <span id="nextLevelXP">100</span> XP
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Modals -->
    <!-- AI Prompt Modal -->
    <div id="aiModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 data-i18n="ai_generation">AI Generation</h2>
                <button class="modal-close" id="closeAIModal">&times;</button>
            </div>
            <div class="modal-body">
                <p data-i18n="ai_prompt_hint">Enter a description for AI to generate:</p>
                <textarea id="aiPrompt" class="textarea-input" placeholder="red ferrari, sunset beach, cute cat..." rows="3"></textarea>
                <div class="examples">
                    <p data-i18n="examples">Examples:</p>
                    <div class="example-tags">
                        <span class="tag" data-example="red ferrari">ğŸï¸ red ferrari</span>
                        <span class="tag" data-example="sunset beach">ğŸŒ… sunset beach</span>
                        <span class="tag" data-example="cute cat">ğŸ± cute cat</span>
                        <span class="tag" data-example="space galaxy">ğŸŒŒ space galaxy</span>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelAIBtn" data-i18n="cancel">Cancel</button>
                <button class="btn btn-primary" id="generateNowBtn" data-i18n="generate">Generate</button>
            </div>
        </div>
    </div>

    <!-- Photo Upload Modal -->
    <div id="uploadModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 data-i18n="upload_photo">Upload Photo</h2>
                <button class="modal-close" id="closeUploadModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="upload-options">
                    <button class="btn btn-secondary btn-large" id="cameraBtn">
                        ğŸ“· <span data-i18n="take_photo">Take Photo</span>
                    </button>
                    <button class="btn btn-secondary btn-large" id="galleryBtn">
                        ğŸ“¸ <span data-i18n="choose_gallery">Choose from Gallery</span>
                    </button>
                </div>
                <div class="upload-preview" id="uploadPreview" style="display: none;">
                    <h3 data-i18n="preview">Preview</h3>
                    <img id="previewImage" class="preview-image" style="max-width: 100%; border-radius: var(--border-radius);">
                    <div class="privacy-choice">
                        <h4 data-i18n="privacy_settings">Privacy Settings</h4>
                        <div class="btn-group">
                            <button class="btn btn-secondary" id="privateBtn" data-i18n="private">Private</button>
                            <button class="btn btn-secondary" id="publicBtn" data-i18n="public">Public</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelUploadBtn" data-i18n="cancel">Cancel</button>
                <button class="btn btn-primary" id="confirmUploadBtn" data-i18n="confirm">Confirm</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/i18n.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
